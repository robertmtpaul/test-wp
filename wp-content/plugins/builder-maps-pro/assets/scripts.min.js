'use strict';var ThemifyMapsProInit;
(function(p,e){let k=null,f=null;const g=[],l=function(a,d){void 0===g[a]&&(g[a]=d);return d},q=async function(a){if(null===a||""===a.trim())return null;if(void 0!==g[a])return l(a,g[a]);const d=a.match(/^([-+]?[1-8]?\d(\.\d+)?|90(\.0+)?),?\s*([-+]?180(\.0+)?|[-+]?((1[0-7]\d)|([1-9]?\d))(\.\d+)?)(,\d+z)?$/);return Array.isArray(d)?l(a,new google.maps.LatLng(d[1],d[4])):new Promise(function(a,c,d){k.geocode({address:a},function(e,b){return b===google.maps.GeocoderStatus.OK?c(l(a,e[0].geometry.location)):
d("Couldnt't find the location "+a)})}.bind(null,a))},n=function(a){const d=google.maps;null===k&&(k=new d.Geocoder);a=e.selectWithParent("module-maps-pro",a);for(let m=a.length-1;-1<m;--m){let f=a[m];var h=f.getElementsByClassName("maps-pro-canvas")[0];if(void 0===h)continue;let b={zoom:null,type:null,address:null,width:null,height:null,style_map:null,scrollwheel:null,polyline:null,geodesic:null,polylinestroke:null,polylinecolor:null,draggable:null,disable_map_ui:null};var c={};for(let a in b)b[a]=
f.getAttribute("data-"+a);c.zoom=parseInt(b.zoom);c.center=new d.LatLng(-34.397,150.644);c.mapTypeId=d.MapTypeId[b.type];c.scrollwheel="enable"===b.scrollwheel;c.draggable="enable"===b.draggable;c.disableDefaultUI="yes"===b.disable_map_ui;""!==b.style_map&&"undefined"!==typeof map_pro_styles&&(c.styles=map_pro_styles[b.style_map]);"undefined"!==typeof builderMapsPro&&builderMapsPro.styles&&(c.styles=builderMapsPro.styles[b.style_map]);h=new d.Map(h,c);c=!1;if("yes"===b.polyline){c="#FF0000";let a=
1;if(""!==b.polylinecolor&&null!==b.polylinecolor){let d=b.polylinecolor.split("_");c=d[0];1<d.length&&(a=d[1])}c=new d.Polyline({geodesic:"yes"===b.geodesic,strokeColor:c,strokeOpacity:a,strokeWeight:b.polylinestroke||2});c.setMap(h)}const g=f.getElementsByClassName("maps-pro-marker");""===b.address&&g.length&&(b.address=g[0].getAttribute("data-address"));q(b.address).then(function(a,c,b,f){if(f)for(a.setCenter(f),b=g.length-1;-1<b;--b)e.requestIdleCallback(function(a,c,b){q(b.getAttribute("data-address")).then(function(a,
c,b,f){if(f){const e=new d.Marker({map:a,position:f,icon:b.getAttribute("data-image")});b=b.innerHTML.trim();if(""!==b){const c=new d.InfoWindow({content:'<div class="maps-pro-content">'+b+"</div>"});d.event.addListener(e,"click",function(){c.open(a,e)})}c&&c.getPath().push(e.getPosition())}}.bind(null,a,c,b))}.bind(null,a,c,g[b]),400)}.bind(null,h,c,f))}};ThemifyMapsProInit=function(){f=!0;e.trigger("themify_google_map_pro_loaded")};if(!e.is_builder_active)e.on("tb_tabs_switch",function(a,d,e){p(a).find(".module-maps-pro").each(function(){var a=
p(this).find(".map-container").data("gmap_object"),d=a.getCenter();google.maps.event.trigger(a,"resize");a.setCenter(d)})});e.on("builder_load_module_partial",function(a,d,g){(!0!==g||a[0].classList.contains("module-maps-pro"))&&e.requestIdleCallback(function(){null!==f||window.google&&"object"===typeof window.google.maps?(f=!0,n(a)):(themify_vars.map_key||(themify_vars.map_key=""),e.LoadAsync("//maps.googleapis.com/maps/api/js",function(a){if(!0===f)n(a);else e.on("themify_google_map_pro_loaded",
n.bind(null,a),!0)}.bind(null,a),"v=3.exp&callback=ThemifyMapsProInit&key="+themify_vars.map_key,null,function(){return!!window.google&&"object"===typeof window.google.maps}))},100)})})(jQuery,Themify);
