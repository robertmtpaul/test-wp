'use strict';!function(e,h){function g(a,d){this._defaults=b;this._name="typer";this.element=a;this.settings=e.extend({},b,d);this.init()}var c,b={highlightSpeed:20,typeSpeed:100,clearDelay:500,typeDelay:200,typerInterval:2E3,highlightEverything:!0,typerDataAttr:"data-typer-targets",backgroundColor:"auto",highlightColor:"auto",typerOrder:"sequential",typerDirection:"rtl",typerStartFrom:0,inlineHighlightStyle:!0};e.extend(g.prototype,{init:function(){var a;void 0!==e(this.element).attr(this.settings.typerDataAttr)&&
(0<this.settings.typerStartFrom&&this.highlight(),this.last=this.settings.typerStartFrom,this.typeWithAttribute(),(a=this).intervalHandle=setInterval(function(){a.typeWithAttribute.call(a)},this.settings.typerInterval))},destroy:function(){clearInterval(this.intervalHandle);e(this.element).removeData("plugin_typer")},clearData:function(){this.typing=this.text=this.rightStop=this.leftStop=this.highlightPosition=null},typeWithAttribute:function(){var a=e(this.element);if(void 0!==this.settings){if(!this.typing){try{var d=
JSON.parse(a.attr(this.settings.typerDataAttr)).targets}catch(f){}if(void 0===d&&(d=e.map(a.attr(this.settings.typerDataAttr).split(","),function(a){return e.trim(a)})),"random"===this.settings.typerOrder)this.typeTo(d[Math.floor(Math.random()*d.length)]);else{if("sequential"!==this.settings.typerOrder)return void this.destroy();this.typeTo(d[this.last]);this.last=this.last<d.length-1?this.last+1:0}}}else this.destroy()},typeTo:function(a){if(void 0!==a){a=this.decodeEntities(a);var d=e(this.element).text(),
f=0,b=0;if((this.typing=!0)!==this.settings.highlightEverything){for(;d.charAt(f)===a.charAt(f);)f++;for(;this.rightChars(d,b)===this.rightChars(a,b);)b++}void 0!==a&&(a=a.substring(f,a.length-b+1));this.oldLeft=d.substring(0,f);this.oldRight=this.rightChars(d,b-1);this.leftStop=f;this.rightStop=d.length-b;this.text=a;this.highlight()}},highlight:function(){var a,d,f,b=e(this.element);if(void 0!==this.settings){if(this.isNumber(this.highlightPosition)||(this.highlightPosition=this.rightStop+1),this.highlightPosition<=
this.leftStop)return a=this,void setTimeout(function(){a.clearText.call(a)},this.settings.clearDelay);var c=b.text();c="ltr"===this.settings.typerDirection?(d="",f=c.substring(0,this.rightStop-this.highlightPosition+1),c.substring(this.rightStop-this.highlightPosition+1)):(d=c.substring(0,this.highlightPosition-1),f=c.substring(this.highlightPosition-1,this.rightStop+1),c.substring(this.rightStop+1));""===d&&""===f&&""===c&&b.hide();f=0<this.settings.highlightSpeed?this.spanWithColor("auto"===this.settings.highlightColor?
b.css("background-color"):this.settings.highlightColor,"auto"===this.settings.backgroundColor?b.css("color"):this.settings.backgroundColor,f):f;b.html(d+f+c);--this.highlightPosition;a=this;setTimeout(function(){a.highlight.call(a)},this.settings.highlightSpeed)}else this.destroy()},type:function(){var a,d,b=e(this.element);this.text&&0!==this.text.length?(d=this.oldLeft+this.text.charAt(0)+this.oldRight,b.html(d),1===d.length&&b.show(),this.oldLeft+=this.text.charAt(0),this.text=this.text.substring(1),
a=this,setTimeout(function(){a.type.call(a)},this.settings.typeSpeed)):this.clearData()},clearText:function(){e(this.element).find("span").remove();var a=this;setTimeout(function(){a.type.call(a)},this.settings.typeDelay)},spanWithColor:function(a,b,c){return this.settings.inlineHighlightStyle?'<span style="color:'+a+";background-color:"+b+';">'+c+"</span>":"<span>"+c+"</span>"},isNumber:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},rightChars:function(a,b){return 0>=b?"":b>a.length?a:a.substring(a.length,
a.length-b)},decodeEntities:(c=h.createElement("div"),function(a){return a&&"string"==typeof a&&(a=escape(a).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),c.innerHTML=a,c.innerText?(a=c.innerText,c.innerText=""):(a=c.textContent,c.textContent="")),unescape(a)})});e.fn.typer=function(a){return this.each(function(){e.data(this,"plugin_typer")||e.data(this,"plugin_typer",new g(this,a))})}}(jQuery,document);
(function(e,h){h.on("builder_load_module_partial",function(g,c,b){if(!0!==b||g[0].classList.contains("module-typewriter"))for(g=h.selectWithParent("typewriter-span",g),c=g.length-1;-1<c;--c){b=g[c];if(h.is_builder_active&&(b.innerText="","undefined"!==typeof tb_app&&null!==tb_app.activeModel)){const a=ThemifyConstructor.getStyleVal("span_background_color");a&&tb_app.liveStylingInstance.setLiveStyle("background-color",a,ThemifyStyles.getStyleOptions("typewriter").span_background_color.selector)}e(b).typer({highlightSpeed:parseInt(b.getAttribute("data-typer-highlight-speed")),
typeSpeed:parseInt(b.getAttribute("data-typer-type-speed")),clearDelay:parseInt(1E3*parseFloat(b.getAttribute("data-typer-clear-delay"))),typeDelay:parseInt(1E3*parseFloat(b.getAttribute("data-typer-type-delay"))),clearOnHighlight:!0,typerDataAttr:"data-typer-targets",typerInterval:parseInt(1E3*parseFloat(b.getAttribute("data-typer-interval"))),typerOrder:"sequential",typerDirection:b.getAttribute("data-typer-direction"),typerStartFrom:h.is_builder_active?0:1,inlineHighlightStyle:!1})}})})(jQuery,
Themify);
