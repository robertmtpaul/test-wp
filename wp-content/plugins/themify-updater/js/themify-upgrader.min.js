'use strict';(function(b,g,h,k){function f(a){a="error"==a?"error":"done";b(".themify_updater_alert").removeClass("busy").addClass(a).delay(800).fadeOut(800,function(){b(this).removeClass(a)})}b("#themify-updater-search .clear-search").on("click",function(){b(this).prev().val("");b(h).trigger("themify_update_promo")});b("#themify-updater-search .promo-search").on("input",function(a){a=b(this);var c=a.val().toLowerCase();a=a.siblings(".clear-search");""!=c&&0<b(".theme-list li").length&&b(".theme-list li").filter(function(){var a=
b(this);1==a.is(":visible")&&-1<a.find(".theme-title h3").text().toLowerCase().indexOf(c)?a.show():(a.hide(),a.parent().append(a))});""==c?a.click().hide():a.show()});b(".upgrade-theme-button").on("click",function(a){a.preventDefault();a.stopPropagation();a=JSON.parse(atob(b(a.target).data("install")));var c=b("#themeversiontoreinstall").val(),d=a.url+"?";delete a.url;for(var e in a)d+=e+"="+a[e]+"&";g.location=d+("themify-theme=1&version="+c)});b(function(){b("#wpbody").on("click","a.themify-updater",
function(a){a.preventDefault();if(b(this).hasClass("themify-updater-stop"))b(this).closest(".notifications").after('<div id="themifyUpdateRrror" class="notice notice-error is-dismissible">'+themify_upgrader_license.error_message+"</div>");else if(confirm(themify_upgrader.check_backup)){a=b(this);var c=a.closest(".notifications"),d=a.data("update_type"),e={slug:a.data("plugin"),action:d.substring(0,d.length-1),_ajax_nonce:a.data("nonce"),_fs_nonce:"",username:"",password:"",connection_type:"",public_key:"",
private_key:""};"update-plugins"===d&&(e.plugin=a.data("base"));b.ajax({url:ajaxurl,type:"POST",data:e,beforeSend:function(){b(".themify_updater_alert").addClass("busy").fadeIn(800)},success:function(a){a="string"===typeof a?JSON.parse(a):a;a.success?(f(),setTimeout(function(){location.reload()},1500)):(f("error"),0<c.siblings("#themifyUpdateRrror").length&&c.siblings("#themifyUpdateRrror").remove(),c.after('<div id="themifyUpdateRrror" class="notice notice-error is-dismissible">'+a.data.errorMessage+
"</div>"))},error:function(){f("error")}})}});b(".themify_updater_changelogs").on("click",function(a){a.preventDefault();a=b(this).data("changelog");b(".themify-updater-promt-box .show-error").hide();b(".themify_updater_alert").addClass("busy").fadeIn(300);b(".themify_updater_promt_overlay,.themify-updater-promt-box").fadeIn(300);b('<iframe src="'+a+'" />').on("load",function(){b(".themify_updater_alert").removeClass("busy").fadeOut(300)}).prependTo(".themify-updater-promt-box");b(".themify-updater-promt-box").addClass("show-changelog");
b(".themify_updater_promt_overlay").one("click",function(a){b(this).fadeOut(300);b(".themify-updater-promt-box").fadeOut(300).find("iframe").remove()})})});b(".notifications .notification-group span:first-child").on("click",function(a){a.preventDefault();b(this).siblings().fadeToggle()}).siblings().fadeToggle()})(jQuery,window,document);
